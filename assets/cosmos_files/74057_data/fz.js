if(!window.getComputedStyle){window.getComputedStyle=function(el,pseudo){this.el=el;this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase();});}return el.currentStyle[prop]?el.currentStyle[prop]:null;};return this;}}
function setBlock(d){if(typeof d!='object'){document.getElementById('tblock').innerHTML=d;return;}if(!d['t'].length){document.getElementById('tblock').innerHTML='';return;}var v=getVars();var h=v['h']?escape(v['h']):'echo.teasernet.com';var a=0;var x=parseInt(v['x']);var y=parseInt(v['y']);var w=Math.floor(100/x);var s='<table class="block"><tr id="tr0">';var k=0;for(var i=0;i<x*y;i++,k++){if(!d['t'][k])k=0;if(a&&a%x===0)s+='</tr><tr id="tr'+Math.floor(a/x)+'">';a++;var l='http://'+h+'/step2.php?c='+encodeURIComponent(d['c'])+'&ts='+d['t'][k]['i'];l='<a href="'+l+'" target="_blank" style="display:block" title="'+d['t'][k]['t']+'" '+'onmouseover="status=\''+d['t'][k]['s']+'/\';return true" onmouseout="status=\'\';return true">%CONTENT%</a>';var t='<td class="text"><div style="display:block"'+(mode==1?' align="center"':'')+'>'+l.replace('%CONTENT%',d['t'][k]['c'])+'</div></td>';var g='<td class="img"><div style="display:block"'+(mode==1?' align="center"':'')+'>'+l.replace('%CONTENT%','<img src="'+d['t'][k]['g']+'" alt="'+d['t'][k]['t']+'" title="'+d['t'][k]['t']+'">')+'</div></td>';s+='<td style="width: '+w+'%;" class="td"><table class="teaser"><tr>'+(mode==1?g+'</tr><tr>'+t:(mode==2?t+g:g+t))+'</tr></table></td>';}while(a%x){s+='<td>&nbsp;</td>';a++;}s+='</tr></table>';document.getElementById('tblock').innerHTML=s;bgStyle("block","blockh");bgStyle("td","th");if(width_min<width_max)zoom();fitFonts(font,height);fitPadding(height);}
function getVars(){var v={};var query=window.location.search.split('?')[1];if(!query)return false;var get=query.split('&');for(var i=0;i<get.length;i++){var pair=get[i].split('=');v[pair[0]]=unescape(pair[1]);}return v;}
function bgStyle(out,over){var n=document.getElementsByTagName('*');for(var i=0;i<n.length;i++){if(n[i].className!=out)continue;n[i].onmouseover=function(){this.className=over;};n[i].onmouseout=function(){this.className=out;};}}
function getHeight(el){var hs='left:-0px;top:-0px;height:auto;width:'+el.clientWidth+'px;position:absolute;';var clone=document.createElement('div');document.all?clone.style.setAttribute('cssText',hs):clone.setAttribute('style',hs);el=el.childNodes[0].childNodes[0];clone.style.fontSize=getStyle(el,'font-size');clone.style.fontWeight=getStyle(el,'font-weight');clone.style.fontFamily=getStyle(el,'font-family');clone.innerHTML=el.innerHTML;document.body.appendChild(clone);var height=clone.clientHeight;document.body.removeChild(clone);return height;}
function getStyle(el,prop){var y=window.getComputedStyle(el,null).getPropertyValue(prop);return y;}
function fitFont(el,fSize,h){var as=getHeight(el);while(as>h){if(fSize--<10)break;el.style.fontSize=fSize+'px';el.childNodes[0].childNodes[0].style.fontSize=fSize+'px';as=getHeight(el);}if(as<h&&mode==1){el.style.height=as+'px';el.childNodes[0].style.height=as+'px';}}
function fitFonts(fSize,h){var n=document.getElementsByTagName('*');for(var i=0;i<n.length;i++){if(n[i].className!='text'||!n[i].style)continue;fitFont(n[i],fSize,h);}}
function fitPadding(h){if(mode!=1)return;var n=document.getElementsByTagName('*');var rows=[];var k=0;for(var i=0,j=0;i<n.length;i++){if(n[i].className!='text'||!n[i].style)continue;if(j%cols===0)k=j/cols;if(!rows[k])rows[k]=1;var as=getHeight(n[i]);if(as>rows[k])rows[k]=Math.min(as,h);j++;}for(var i=0;i<rows.length;i++){if(rows[i]>=h||!document.getElementById('tr'+i))continue;var c=document.getElementById('tr'+i).childNodes;var f=h-rows[i]+6;var pt=Math.floor(f/2);var p=pt+'px 1px '+(f-pt)+'px 1px';for(var k in c){if(!c[k].className||(c[k].className!='td'&&c[k].className!='th'))continue;c[k].style.padding=p;}}}
function init(src){var d=document.getElementsByTagName('head')[0];var js=document.createElement('script');var v=getVars();var h=v['h']?escape(v['h']):'echo.teasernet.com';js.src='http://'+h+'/show6.php?b='+parseInt(v['b'])+'&c='+encodeURIComponent(v['c'])+'&h='+parseInt(v['x'])+'&v='+parseInt(v['y'])+'&ref='+encodeURIComponent(v['ref'])+'&f='+parseInt(v['s'])+'&s='+width_min+'&'+Math.round(Math.random()*100000);d.appendChild(js);}